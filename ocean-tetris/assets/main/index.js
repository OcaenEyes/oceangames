System.register("chunks:///_virtual/core.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,o,s,c,e,l,h,r,n,u,k,P,B,a,b,p,y,m,x;return{setters:[function(t){i=t.applyDecoratedDescriptor,o=t.inheritsLoose,s=t.initializerDefineProperty,c=t.assertThisInitialized},function(t){e=t.cclegacy,l=t._decorator,h=t.Node,r=t.Prefab,n=t.Button,u=t.Label,k=t.log,P=t.instantiate,B=t.UITransform,a=t.v2,b=t.find,p=t.KeyCode,y=t.Input,m=t.input,x=t.Component}],execute:function(){var g,f,_,C,S,z,d,v,w,T,L,R,D,O,E,G,H,U,M,K,W,A,N,Y,Z,F,I,V,j,q,J,Q,X,$,tt,it,ot;e._RF.push({},"3ab658/zE5BzLe2ahh0l8s3","core",void 0);var st=l.ccclass,ct=l.property;t("core",(g=st("core"),f=ct(h),_=ct(r),C=ct(h),S=ct(r),z=ct(r),d=ct(r),v=ct(r),w=ct(r),T=ct(r),L=ct(r),R=ct(n),D=ct(n),O=ct(n),E=ct(n),G=ct(r),H=ct(h),U=ct(u),g((W=i((K=function(t){function i(){for(var i,o=arguments.length,e=new Array(o),l=0;l<o;l++)e[l]=arguments[l];return i=t.call.apply(t,[this].concat(e))||this,s(i,"gcBgLayout",W,c(i)),s(i,"gbBlock",A,c(i)),s(i,"gcLayout",N,c(i)),s(i,"gameBlock0",Y,c(i)),s(i,"gameBlock1",Z,c(i)),s(i,"gameBlock2",F,c(i)),s(i,"gameBlock3",I,c(i)),s(i,"gameBlock4",V,c(i)),s(i,"gameBlock5",j,c(i)),s(i,"gameBlock6",q,c(i)),s(i,"leftBtn",J,c(i)),s(i,"topBtn",Q,c(i)),s(i,"rightBtn",X,c(i)),s(i,"bottomBtn",$,c(i)),s(i,"gameBlockCenter",tt,c(i)),s(i,"testLayout",it,c(i)),s(i,"scoreValue",ot,c(i)),i.rand=null,i._score=0,i._timer=.5,i._blockSize=25,i._playBgW=268,i._playBgH=538,i.box=[],i.curBlock=null,i.curBlockP1=null,i.curBlockP2=null,i.curBlockP3=null,i.curBlockP4=null,i.curBlockP1Pos=null,i.curBlockP2Pos=null,i.curBlockP3Pos=null,i.curBlockP4Pos=null,i.gameState=null,i}o(i,t);var e=i.prototype;return e.start=function(){this.initBgBlock(),this.scoreValue.string="0"},e.update=function(t){},e.onLoad=function(){},e.initBgBlock=function(){k("初始化程序");for(var t=0;t<200;t++){var i=P(this.gbBlock);i.getComponent(B).setContentSize(this._blockSize,this._blockSize),i.parent=this.gcBgLayout}},e.initBox=function(){for(var t=0;t<24;t++){this.box[t]=[];for(var i=0;i<10;i++)this.box[t][i]=null}this.initGameBlock()},e.initGameBlock=function(){this.rand=Math.floor(7*Math.random()),this.createBlockColor(this.rand),this.createBlockShape(this.rand)},e.createBlockColor=function(t){var i,o,s,c;switch(t){case 0:k("初始化正方形颜色"),this.curBlockP1=P(this.gameBlock0),this.curBlockP2=P(this.gameBlock0),this.curBlockP3=P(this.gameBlock0),this.curBlockP4=P(this.gameBlock0),this.curBlock=P(this.gameBlockCenter),this.curBlock.parent=this.gcLayout,this.curBlock.setPosition(0,this._playBgH/2+2+this._blockSize),k("正方形颜色的位置,",this.curBlock.position);break;case 1:k("初始化Z形颜色"),this.curBlockP1=P(this.gameBlock1),this.curBlockP2=P(this.gameBlock1),this.curBlockP3=P(this.gameBlock1),this.curBlockP4=P(this.gameBlock1),this.curBlock=P(this.gameBlockCenter),this.curBlock.parent=this.gcLayout,this.curBlock.setPosition(this._blockSize/2+1,this._playBgH/2+1.5*this._blockSize+4),k("Z颜色的位置,",this.curBlock.position);break;case 2:k("初始化反Z形颜色"),this.curBlockP1=P(this.gameBlock2),this.curBlockP2=P(this.gameBlock2),this.curBlockP3=P(this.gameBlock2),this.curBlockP4=P(this.gameBlock2),this.curBlock=P(this.gameBlockCenter),this.curBlock.parent=this.gcLayout,this.curBlock.setPosition(this._blockSize/2+1,this._playBgH/2+1.5*this._blockSize+4),k("反Z颜色的位置,",this.curBlock.position);break;case 3:k("初始化左L形颜色"),this.curBlockP1=P(this.gameBlock3),this.curBlockP2=P(this.gameBlock3),this.curBlockP3=P(this.gameBlock3),this.curBlockP4=P(this.gameBlock3),this.curBlock=P(this.gameBlockCenter),this.curBlock.parent=this.gcLayout,this.curBlock.setPosition(this._blockSize/2+1,this._playBgH/2+1.5*this._blockSize+4),k("左L颜色的位置,",this.curBlock.position);break;case 4:k("初始化右L形颜色"),this.curBlockP1=P(this.gameBlock4),this.curBlockP2=P(this.gameBlock4),this.curBlockP3=P(this.gameBlock4),this.curBlockP4=P(this.gameBlock4),this.curBlock=P(this.gameBlockCenter),this.curBlock.parent=this.gcLayout,this.curBlock.setPosition(this._blockSize/2+1,this._playBgH/2+1.5*this._blockSize+4),k("右L颜色的位置,",this.curBlock.position);break;case 5:k("初始化T形颜色"),this.curBlockP1=P(this.gameBlock5),this.curBlockP2=P(this.gameBlock5),this.curBlockP3=P(this.gameBlock5),this.curBlockP4=P(this.gameBlock5),this.curBlock=P(this.gameBlockCenter),this.curBlock.parent=this.gcLayout,this.curBlock.setPosition(this._blockSize/2+1,this._playBgH/2+this._blockSize/2+2),k("T颜色的位置,",this.curBlock.position);break;case 6:k("初始化长形颜色"),this.curBlockP1=P(this.gameBlock6),this.curBlockP2=P(this.gameBlock6),this.curBlockP3=P(this.gameBlock6),this.curBlockP4=P(this.gameBlock6),this.curBlock=P(this.gameBlockCenter),this.curBlock.parent=this.gcLayout,this.curBlock.setPosition(this._blockSize/2+1,this._playBgH/2+1.5*this._blockSize+4),k("T颜色的位置,",this.curBlock.position)}null==(i=this.curBlockP1.getComponent(B))||i.setContentSize(this._blockSize,this._blockSize),null==(o=this.curBlockP2.getComponent(B))||o.setContentSize(this._blockSize,this._blockSize),null==(s=this.curBlockP3.getComponent(B))||s.setContentSize(this._blockSize,this._blockSize),null==(c=this.curBlockP4.getComponent(B))||c.setContentSize(this._blockSize,this._blockSize),this.curBlock.addChild(this.curBlockP1),this.curBlock.addChild(this.curBlockP2),this.curBlock.addChild(this.curBlockP3),this.curBlock.addChild(this.curBlockP4)},e.createBlockShape=function(t){switch(t){case 0:k("初始化正方形"),this.curBlockP1.setPosition(this._blockSize/2+1,this._blockSize/2+1),this.curBlockP2.setPosition(-(this._blockSize/2+1),this._blockSize/2+1),this.curBlockP3.setPosition(this._blockSize/2+1,-(this._blockSize/2+1)),this.curBlockP4.setPosition(-(this._blockSize/2+1),-(this._blockSize/2+1)),this.curBlockP1Pos=a(21,5),this.curBlockP2Pos=a(21,4),this.curBlockP3Pos=a(20,5),this.curBlockP4Pos=a(20,4);break;case 1:k("初始化Z形"),this.curBlockP1.setPosition(-(this._blockSize+2),0),this.curBlockP2.setPosition(0,0),this.curBlockP3.setPosition(0,-(this._blockSize+2)),this.curBlockP4.setPosition(this._blockSize+2,-(this._blockSize+2)),this.curBlockP1Pos=a(21,4),this.curBlockP2Pos=a(21,5),this.curBlockP3Pos=a(20,5),this.curBlockP4Pos=a(20,6);break;case 2:k("初始化反Z形"),this.curBlockP1.setPosition(this._blockSize+2,0),this.curBlockP2.setPosition(0,0),this.curBlockP3.setPosition(0,-(this._blockSize+2)),this.curBlockP4.setPosition(-(this._blockSize+2),-(this._blockSize+2)),this.curBlockP1Pos=a(21,6),this.curBlockP2Pos=a(21,5),this.curBlockP3Pos=a(20,5),this.curBlockP4Pos=a(20,4);break;case 3:k("初始化左L形"),this.curBlockP1.setPosition(0,this._blockSize+2),this.curBlockP2.setPosition(0,0),this.curBlockP3.setPosition(0,-(this._blockSize+2)),this.curBlockP4.setPosition(this._blockSize+2,-(this._blockSize+2)),this.curBlockP1Pos=a(22,5),this.curBlockP2Pos=a(21,5),this.curBlockP3Pos=a(20,5),this.curBlockP4Pos=a(20,6);break;case 4:k("初始化右L形"),this.curBlockP1.setPosition(0,this._blockSize+2),this.curBlockP2.setPosition(0,0),this.curBlockP3.setPosition(0,-(this._blockSize+2)),this.curBlockP4.setPosition(-(this._blockSize+2),-(this._blockSize+2)),this.curBlockP1Pos=a(22,5),this.curBlockP2Pos=a(21,5),this.curBlockP3Pos=a(20,5),this.curBlockP4Pos=a(20,4);break;case 5:k("初始化T形"),this.curBlockP1.setPosition(0,this._blockSize+2),this.curBlockP2.setPosition(0,0),this.curBlockP3.setPosition(-(this._blockSize+2),0),this.curBlockP4.setPosition(this._blockSize+2,0),this.curBlockP1Pos=a(21,5),this.curBlockP2Pos=a(20,5),this.curBlockP3Pos=a(20,4),this.curBlockP4Pos=a(20,6);break;case 6:k("初始化竖形"),this.curBlockP1.setPosition(0,2*(this._blockSize+2)),this.curBlockP2.setPosition(0,this._blockSize+2),this.curBlockP3.setPosition(0,0),this.curBlockP4.setPosition(0,-(this._blockSize+2)),this.curBlockP1Pos=a(23,5),this.curBlockP2Pos=a(22,5),this.curBlockP3Pos=a(21,5),this.curBlockP4Pos=a(20,5)}this.checkCurrentBlockPos()},e.isClashBottom=function(){return this.curBlockP1Pos.x-1<0||this.curBlockP2Pos.x-1<0||this.curBlockP3Pos.x-1<0||this.curBlockP4Pos.x-1<0},e.isClashBottomBlock=function(){return k(this.box),k(this.box[this.curBlockP1Pos.x-1][this.curBlockP1Pos.y]),null!=this.box[this.curBlockP1Pos.x-1][this.curBlockP1Pos.y]&&!this.isCurrentBlockChild(this.box[this.curBlockP1Pos.x-1][this.curBlockP1Pos.y])||null!=this.box[this.curBlockP2Pos.x-1][this.curBlockP2Pos.y]&&!this.isCurrentBlockChild(this.box[this.curBlockP2Pos.x-1][this.curBlockP2Pos.y])||null!=this.box[this.curBlockP3Pos.x-1][this.curBlockP3Pos.y]&&!this.isCurrentBlockChild(this.box[this.curBlockP3Pos.x-1][this.curBlockP3Pos.y])||null!=this.box[this.curBlockP4Pos.x-1][this.curBlockP4Pos.y]&&!this.isCurrentBlockChild(this.box[this.curBlockP4Pos.x-1][this.curBlockP4Pos.y])},e.isClashLeft=function(){return this.curBlockP1Pos.y-1<0||this.curBlockP2Pos.y-1<0||this.curBlockP3Pos.y-1<0||this.curBlockP4Pos.y-1<0},e.isClashLeftBlock=function(){return k(this.box),k(this.box[this.curBlockP1Pos.x][this.curBlockP1Pos.y-1]),null!=this.box[this.curBlockP1Pos.x][this.curBlockP1Pos.y-1]&&!this.isCurrentBlockChild(this.box[this.curBlockP1Pos.x][this.curBlockP1Pos.y-1])||null!=this.box[this.curBlockP2Pos.x][this.curBlockP2Pos.y-1]&&!this.isCurrentBlockChild(this.box[this.curBlockP2Pos.x][this.curBlockP2Pos.y-1])||null!=this.box[this.curBlockP3Pos.x][this.curBlockP3Pos.y-1]&&!this.isCurrentBlockChild(this.box[this.curBlockP3Pos.x][this.curBlockP3Pos.y-1])||null!=this.box[this.curBlockP4Pos.x][this.curBlockP4Pos.y-1]&&!this.isCurrentBlockChild(this.box[this.curBlockP4Pos.x][this.curBlockP4Pos.y-1])},e.isClashRight=function(){return this.curBlockP1Pos.y+1>9||this.curBlockP2Pos.y+1>9||this.curBlockP3Pos.y+1>9||this.curBlockP4Pos.y+1>9},e.isClashRightBlock=function(){return k(this.box),k(this.box[this.curBlockP1Pos.x][this.curBlockP1Pos.y+1]),null!=this.box[this.curBlockP1Pos.x][this.curBlockP1Pos.y+1]&&!this.isCurrentBlockChild(this.box[this.curBlockP1Pos.x][this.curBlockP1Pos.y+1])||null!=this.box[this.curBlockP2Pos.x][this.curBlockP2Pos.y+1]&&!this.isCurrentBlockChild(this.box[this.curBlockP2Pos.x][this.curBlockP2Pos.y+1])||null!=this.box[this.curBlockP3Pos.x][this.curBlockP3Pos.y+1]&&!this.isCurrentBlockChild(this.box[this.curBlockP3Pos.x][this.curBlockP3Pos.y+1])||null!=this.box[this.curBlockP4Pos.x][this.curBlockP4Pos.y+1]&&!this.isCurrentBlockChild(this.box[this.curBlockP4Pos.x][this.curBlockP4Pos.y+1])},e.rotateShape=function(){k("旋转图形"),this.rotateShapePart(this.curBlockP1,this.curBlockP1Pos),this.rotateShapePart(this.curBlockP2,this.curBlockP2Pos),this.rotateShapePart(this.curBlockP3,this.curBlockP3Pos),this.rotateShapePart(this.curBlockP4,this.curBlockP4Pos)},e.rotateShapePart=function(t,i){k(t.position);var o=Math.abs(t.position.x/(this._blockSize+2)),s=Math.abs(t.position.y/(this._blockSize+2)),c=Math.max(o,s);0==t.position.x&&t.position.y>0?(i.x-=c,i.y+=c,t.setPosition(t.position.y,t.position.x)):t.position.x>0&&0==t.position.y?(i.x-=c,i.y-=c,t.setPosition(t.position.y,-t.position.x)):0==t.position.x&&t.position.y<0?(i.x+=c,i.y-=c,t.setPosition(t.position.y,t.position.x)):t.position.x<0&&0==t.position.y?(i.x+=c,i.y+=c,t.setPosition(t.position.y,-t.position.x)):t.position.x>0&&t.position.y>0?(k("从右上顺时针旋转"),t.position.x>=this._blockSize+2&&t.position.y>=this._blockSize+2?i.x-=2:i.x-=1,t.setPosition(t.position.x,-t.position.y)):t.position.x>0&&t.position.y<0?(k("从右下顺时针旋转"),t.position.x>=this._blockSize+2&&t.position.y<=-(this._blockSize+2)?i.y-=2:i.y-=1,t.setPosition(-t.position.x,t.position.y)):t.position.x<0&&t.position.y<0?(k("从左下顺时针旋转"),t.position.x<=-(this._blockSize+2)&&t.position.y<=-(this._blockSize+2)?i.x+=2:i.x+=1,t.setPosition(t.position.x,-t.position.y)):t.position.x<0&&t.position.y>0&&(k("从左上顺时针旋转"),t.position.x<=-(this._blockSize+2)&&t.position.y>=this._blockSize+2?i.y+=2:i.y+=1,t.setPosition(-t.position.x,t.position.y)),k("旋转后最新对位置：",t.position)},e.isCurrentBlockChild=function(t){for(var i=0;i<4;i++)if(t===this.curBlock.children[i])return!0;return!1},e.checkCurrentBlockPos=function(){this.box[this.curBlockP1Pos.x][this.curBlockP1Pos.y]=this.curBlockP1,this.box[this.curBlockP2Pos.x][this.curBlockP2Pos.y]=this.curBlockP2,this.box[this.curBlockP3Pos.x][this.curBlockP3Pos.y]=this.curBlockP3,this.box[this.curBlockP4Pos.x][this.curBlockP4Pos.y]=this.curBlockP4},e.deleteCurrentBlockPos=function(){this.box[this.curBlockP1Pos.x][this.curBlockP1Pos.y]=null,this.box[this.curBlockP2Pos.x][this.curBlockP2Pos.y]=null,this.box[this.curBlockP3Pos.x][this.curBlockP3Pos.y]=null,this.box[this.curBlockP4Pos.x][this.curBlockP4Pos.y]=null},e.autoDown=function(){k("最新的_timer是：",this._timer),this.isClashBottom()?(k("碰到底部了"),k(this.curBlock.position),this.deleteRow(),this.initGameBlock()):this.isClashBottomBlock()?(k("碰到下面的方块了"),k(this.curBlock.position),this.isGameOver(),this.deleteRow(),this.initGameBlock()):(this.curBlock.setPosition(this.curBlock.position.x,this.curBlock.position.y-(this._blockSize+2)),this.deleteCurrentBlockPos(),this.curBlockP1Pos.x-=1,this.curBlockP2Pos.x-=1,this.curBlockP3Pos.x-=1,this.curBlockP4Pos.x-=1,this.checkCurrentBlockPos())},e.deleteRow=function(){for(var t=0;t<18;t++){for(var i=0,o=0;o<10;o++)null!=this.box[t][o]&&i++;if(10==i){for(var s=0;s<10;s++)this.box[t][s].removeFromParent(),this.box[t][s]=null,b("GameMusic").emit("cleanOneLine"),this._score+=1;this.rowDown(t),t--}}this.scoreValue.string=this._score.toString(),this._score<100?(this._timer=.5,this.unschedule(this.autoDown),this.schedule(this.autoDown,this._timer)):this._score<250?(this._timer=.4,this.unschedule(this.autoDown),this.schedule(this.autoDown,this._timer)):this._score<500?(this._timer=.35,this.unschedule(this.autoDown),this.schedule(this.autoDown,this._timer)):this._score<1e3?(this._timer=.25,this.unschedule(this.autoDown),this.schedule(this.autoDown,this._timer)):(this._timer=.2,this.unschedule(this.autoDown),this.schedule(this.autoDown,this._timer))},e.rowDown=function(t){for(var i=t,o=0;o<10;o++)for(var s=-1,c=i;c<18;c++)s++,null!=this.box[c][o]&&(this.box[c-1][o]=this.box[c][o],this.box[c][o].setPosition(this.box[c][o].position.x,this.box[c][o].position.y-(this._blockSize+2)),null==this.box[c+1][o]&&(this.box[s+i][o]=null))},e.onKeyDown=function(t){switch(t.keyCode){case p.ARROW_LEFT:if(k("左移动"),b("GameMusic").emit("rotate"),this.leftBtn.node.setScale(.8,.8),this.isClashLeft())break;if(this.isClashLeftBlock())break;this.curBlock.setPosition(this.curBlock.position.x-(this._blockSize+2),this.curBlock.position.y),this.deleteCurrentBlockPos(),this.curBlockP1Pos.y-=1,this.curBlockP2Pos.y-=1,this.curBlockP3Pos.y-=1,this.curBlockP4Pos.y-=1,this.checkCurrentBlockPos();break;case p.ARROW_RIGHT:if(k("右移动"),b("GameMusic").emit("rotate"),this.rightBtn.node.setScale(.8,.8),this.isClashRight())break;if(this.isClashRightBlock())break;this.curBlock.setPosition(this.curBlock.position.x+(this._blockSize+2),this.curBlock.position.y),this.deleteCurrentBlockPos(),this.curBlockP1Pos.y+=1,this.curBlockP2Pos.y+=1,this.curBlockP3Pos.y+=1,this.curBlockP4Pos.y+=1,this.checkCurrentBlockPos();break;case p.ARROW_UP:if(b("GameMusic").emit("rotate"),this.topBtn.node.setScale(.8,.8),this.isClashBottom())break;if(this.isClashBottomBlock())break;if(this.isClashLeft())break;if(this.isClashLeftBlock())break;if(this.isClashRight())break;if(this.isClashRightBlock())break;this.deleteCurrentBlockPos(),this.rotateShape(),this.checkCurrentBlockPos();break;case p.ARROW_DOWN:if(k("下移动"),b("GameMusic").emit("rotate"),this.bottomBtn.node.setScale(.8,.8),this.isClashBottom())break;if(this.isClashBottomBlock())break;this.curBlock.setPosition(this.curBlock.position.x,this.curBlock.position.y-(this._blockSize+2)),this.deleteCurrentBlockPos(),this.curBlockP1Pos.x-=1,this.curBlockP2Pos.x-=1,this.curBlockP3Pos.x-=1,this.curBlockP4Pos.x-=1,this.checkCurrentBlockPos()}},e.onKeyUp=function(t){switch(t.keyCode){case p.ARROW_LEFT:this.leftBtn.node.setScale(1,1);break;case p.ARROW_RIGHT:this.rightBtn.node.setScale(1,1);break;case p.ARROW_UP:this.topBtn.node.setScale(1,1);break;case p.ARROW_DOWN:this.bottomBtn.node.setScale(1,1)}},e.clickLeft=function(){k("点击left");var t=this.leftBtn.node;t.on(y.EventType.TOUCH_START,(function(){return t.setScale(.8,.8)})),t.on(y.EventType.TOUCH_END,(function(){return t.setScale(1,1)})),b("GameMusic").emit("rotate"),this.isClashLeft()||this.isClashLeftBlock()||(this.curBlock.setPosition(this.curBlock.position.x-(this._blockSize+2),this.curBlock.position.y),this.deleteCurrentBlockPos(),this.curBlockP1Pos.y-=1,this.curBlockP2Pos.y-=1,this.curBlockP3Pos.y-=1,this.curBlockP4Pos.y-=1,this.checkCurrentBlockPos())},e.clickRight=function(){k("点击right");var t=this.rightBtn.node;t.on(y.EventType.TOUCH_START,(function(){return t.setScale(.8,.8)})),t.on(y.EventType.TOUCH_END,(function(){return t.setScale(1,1)})),b("GameMusic").emit("rotate"),this.isClashRight()||this.isClashRightBlock()||(this.curBlock.setPosition(this.curBlock.position.x+(this._blockSize+2),this.curBlock.position.y),this.deleteCurrentBlockPos(),this.curBlockP1Pos.y+=1,this.curBlockP2Pos.y+=1,this.curBlockP3Pos.y+=1,this.curBlockP4Pos.y+=1,this.checkCurrentBlockPos())},e.clickTop=function(){k("点击top");var t=this.topBtn.node;t.on(y.EventType.TOUCH_START,(function(){return t.setScale(.8,.8)})),t.on(y.EventType.TOUCH_END,(function(){return t.setScale(1,1)})),b("GameMusic").emit("rotate"),this.isClashBottom()||this.isClashBottomBlock()||this.isClashLeft()||this.isClashLeftBlock()||this.isClashRight()||this.isClashRightBlock()||(this.deleteCurrentBlockPos(),this.rotateShape(),this.checkCurrentBlockPos())},e.clickBottom=function(){k("点击bottom");var t=this.bottomBtn.node;t.on(y.EventType.TOUCH_START,(function(){return t.setScale(.8,.8)})),t.on(y.EventType.TOUCH_END,(function(){return t.setScale(1,1)})),b("GameMusic").emit("rotate"),this.isClashBottom()||this.isClashBottomBlock()||(this.curBlock.setPosition(this.curBlock.position.x,this.curBlock.position.y-(this._blockSize+2)),this.deleteCurrentBlockPos(),this.curBlockP1Pos.x-=1,this.curBlockP2Pos.x-=1,this.curBlockP3Pos.x-=1,this.curBlockP4Pos.x-=1,this.checkCurrentBlockPos())},e.gameStart=function(){var t=b("Canvas/GameWelcome"),i=b("Canvas/GameOver");t.active=!1,i.active=!1,this.gameState=1,m.on(y.EventType.KEY_DOWN,this.onKeyDown,this),m.on(y.EventType.KEY_UP,this.onKeyUp,this),this.initBox(),this.schedule(this.autoDown,this._timer)},e.gameResume=function(){this.gameState=1},e.gamePause=function(){this.gameState=2},e.gameOver=function(){this.gameState=0,b("Canvas/GameOver").active=!0,b("GameMusic").emit("gameover"),b("GameMusic").emit("bgmStop"),this.unschedule(this.autoDown),this.enabled=!1,m.off(y.EventType.KEY_DOWN,this.onKeyDown,this),m.off(y.EventType.KEY_UP,this.onKeyUp,this)},e.gameRestart=function(){this.gameState=1,b("Canvas/GameOver").active=!1,this.enabled=!0,this.gcLayout.removeAllChildren(),m.on(y.EventType.KEY_DOWN,this.onKeyDown,this),m.on(y.EventType.KEY_UP,this.onKeyUp,this),this._score=0,this.scoreValue.string=this._score.toString(),this._timer=.5,this.initBox(),this.schedule(this.autoDown,this._timer)},e.isGameOver=function(){for(var t=18;t<20;t++)for(var i=0;i<10;i++)null!=this.box[t][i]&&this.gameOver()},i}(x)).prototype,"gcBgLayout",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=i(K.prototype,"gbBlock",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=i(K.prototype,"gcLayout",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=i(K.prototype,"gameBlock0",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=i(K.prototype,"gameBlock1",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=i(K.prototype,"gameBlock2",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=i(K.prototype,"gameBlock3",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=i(K.prototype,"gameBlock4",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=i(K.prototype,"gameBlock5",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=i(K.prototype,"gameBlock6",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=i(K.prototype,"leftBtn",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=i(K.prototype,"topBtn",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=i(K.prototype,"rightBtn",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=i(K.prototype,"bottomBtn",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=i(K.prototype,"gameBlockCenter",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=i(K.prototype,"testLayout",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=i(K.prototype,"scoreValue",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=K))||M));e._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./core.ts","./music.ts"],(function(){"use strict";return{setters:[null,null],execute:function(){}}}));

System.register("chunks:///_virtual/music.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,o,e,i,r,u,s,c,a;return{setters:[function(t){n=t.applyDecoratedDescriptor,o=t.inheritsLoose,e=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,u=t._decorator,s=t.AudioSource,c=t.AudioClip,a=t.Component}],execute:function(){var l,f,p,d,h,y,m;r._RF.push({},"486c57woVxOxbaB0yP15dx4","music",void 0);var v=u.ccclass,b=u.property;t("music",(l=v("music"),f=b(s),p=b([c]),l((y=n((h=function(t){function n(){for(var n,o=arguments.length,r=new Array(o),u=0;u<o;u++)r[u]=arguments[u];return n=t.call.apply(t,[this].concat(r))||this,e(n,"soundControl",y,i(n)),e(n,"effects",m,i(n)),n}o(n,t);var r=n.prototype;return r.start=function(){},r.update=function(t){},r.onLoad=function(){this.initMusicEvent()},r.initMusicEvent=function(){var t=this;this.node.on("bgm",(function(){return t.soundControl.play()}),this),this.node.on("bgmStop",(function(){return t.soundControl.stop()}),this),this.node.on("gameover",(function(){return t.soundControl.playOneShot(t.effects[0],.3)}),this),this.node.on("cleanOneLine",(function(){return t.soundControl.playOneShot(t.effects[0],.3)}),this),this.node.on("rotate",(function(){return t.soundControl.playOneShot(t.effects[1],.6)}),this)},n}(a)).prototype,"soundControl",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=n(h.prototype,"effects",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=h))||d));r._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});